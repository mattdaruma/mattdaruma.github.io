import{a as be,b as xe}from"./chunk-2KLHWQMD.js";import{a as oe,b as re,c as ae,d as de,e as se,f as le,g as ot,h as ce,i as me,j as pe,k as ue,l as fe,m as rt,n as he,o as ge,p as ve,q as Ce,r as ye}from"./chunk-KPRCRXYR.js";import{c as Yt,d as Ct,f as B,h as yt}from"./chunk-WXI33M2S.js";import{a as te,c as ee}from"./chunk-IPANXFEX.js";import{F as bt,L as ie,M as ne,a as Kt,g as P,h as Xt,k as Zt,m as nt}from"./chunk-EW6MGBUB.js";import{$ as Q,$a as Vt,Aa as At,B as It,Bb as f,Ca as Lt,Cb as j,D as k,Db as A,Fb as Pt,Gb as Bt,H as Ot,Hb as Ht,J as qt,Jb as b,Kb as I,Lb as R,Na as pt,Oa as Nt,P as J,Pa as ut,Pb as Gt,Qb as h,Sb as $t,Ta as s,Tb as z,Ua as _,Ub as W,W as T,_ as u,_a as tt,a as wt,aa as S,ab as et,db as zt,ea as U,f as Dt,ha as K,hc as gt,ia as X,ib as g,jb as Wt,ka as Z,kb as d,m as Et,mb as ft,na as lt,nb as x,o as Mt,oc as it,p as G,pc as O,qa as ct,qb as ht,qc as E,r as st,ra as mt,rb as c,rc as Jt,sa as q,sb as l,sc as Qt,t as Tt,tb as p,ub as kt,uc as Ut,v as St,vb as jt,wc as y,x as $,za as Y,zb as Rt,zc as vt}from"./chunk-JRA5BOLT.js";import{h as dt}from"./chunk-5JXFUYLD.js";var Ge=["BannerImage"],_e=(()=>{let t=class t{set BannerImage(n){}constructor(){this.Banner=void 0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-banner"]],viewQuery:function(i,o){if(i&1&&Pt(Ge,5),i&2){let a;Bt(a=Ht())&&(o.BannerImage=a.first)}},inputs:{Banner:"Banner"},standalone:!0,features:[h],decls:2,vars:2,consts:[[1,"dad-banner-image"],["BannerImage",""]],template:function(i,o){i&1&&p(0,"div",0,1),i&2&&x(o.Banner==null?null:o.Banner.Style)},styles:[".dad-banner-image[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;height:10em;box-shadow:inset 0 0 3em 5em var(--theme-fuzz)}"]});let e=t;return e})();var $e=["*"];var Je=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Qe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],Ue=new Z("MAT_CARD_CONFIG"),Fe=(()=>{let t=class t{constructor(n){this.appearance=n?.appearance||"raised"}};t.\u0275fac=function(i){return new(i||t)(_(Ue,8))},t.\u0275cmp=u({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,o){i&2&&ft("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[h],ngContentSelectors:$e,decls:1,vars:0,template:function(i,o){i&1&&(j(),A(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),we=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var De=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})(),Ee=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let e=t;return e})(),Me=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,o){i&2&&ft("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),Te=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[h],ngContentSelectors:Qe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,o){i&1&&(j(Je),A(0),c(1,"div",0),A(2,1),l(),A(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})(),Se=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0});let e=t;return e})(),Ie=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var Oe=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0});let e=t;return e})();var qe=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=X({imports:[bt,y,bt]});let e=t;return e})();function Ze(e,t){if(e&1&&p(0,"img",5),e&2){let r=f().$implicit,n=f();d("src",n.AsImage(r).URL,ut)("title",n.AsImage(r).Title)}}function Ye(e,t){if(e&1&&(c(0,"mat-card-title"),b(1),l()),e&2){let r=t.ngIf;s(),I(r)}}function ti(e,t){if(e&1&&(c(0,"mat-card-subtitle"),b(1),l()),e&2){let r=t.ngIf;s(),I(r)}}function ei(e,t){if(e&1&&p(0,"img",8),e&2){let r=t.ngIf;d("src",r.URL,ut)("title",r.Title)}}function ii(e,t){if(e&1&&(c(0,"mat-card-header"),g(1,Ye,2,1,"mat-card-title",6)(2,ti,2,1,"mat-card-subtitle",6)(3,ei,1,2,"img",7),l()),e&2){let r=f().$implicit,n=f(),i,o,a;x(n.AsHeader(r).Style),s(),d("ngIf",(i=n.AsHeader(r))==null?null:i.Title),s(),d("ngIf",(o=n.AsHeader(r))==null?null:o.Subtitle),s(),d("ngIf",(a=n.AsHeader(r))==null?null:a.Avatar)}}function ni(e,t){if(e&1&&p(0,"app-dad-widget",10),e&2){let r=t.$implicit;d("Widget",r)}}function oi(e,t){if(e&1&&(c(0,"mat-card-content"),g(1,ni,1,1,"app-dad-widget",9),l()),e&2){let r=f().$implicit,n=f(),i;x(n.AsContent(r).Style),s(),d("ngForOf",(i=n.AsContent(r))==null?null:i.Children)}}var ri=e=>[e];function ai(e,t){if(e&1&&(c(0,"button",12)(1,"mat-icon"),b(2),l(),b(3),l()),e&2){let r=t.$implicit;d("routerLink",$t(3,ri,r.RouterLink)),s(2),I(r.Icon),s(),R(" ",r.Display," ")}}function di(e,t){if(e&1&&(c(0,"mat-card-actions"),g(1,ai,4,5,"button",11),l()),e&2){let r=f().$implicit,n=f();x(n.AsActions(r).Style),s(),d("ngForOf",n.AsActions(r).Children)}}function si(e,t){if(e&1&&(c(0,"mat-card-footer"),b(1),l()),e&2){let r=f().$implicit,n=f();x(n.AsFooter(r).Style),s(),R(" ",n.AsFooter(r).Text," ")}}function li(e,t){if(e&1&&(kt(0,2),g(1,Ze,1,2,"img",3)(2,ii,4,5,"mat-card-header",4)(3,oi,2,3,"mat-card-content",4)(4,di,2,3,"mat-card-actions",4)(5,si,2,3,"mat-card-footer",4),jt()),e&2){let r=t.$implicit;d("ngSwitch",r==null?null:r.Type),s(),d("ngSwitchCase","card-header"),s(),d("ngSwitchCase","card-header"),s(),d("ngSwitchCase","card-content"),s(),d("ngSwitchCase","card-actions"),s(),d("ngSwitchCase","card-footer")}}var Ae=(()=>{let t=class t{constructor(){this.Card=void 0,this.AsHeader=n=>n,this.AsImage=n=>n,this.AsActions=n=>n,this.AsFooter=n=>n,this.AsContent=n=>n}ngAfterViewInit(){this.Card?.Loaded?.next(this.Card.Type),this.Card?.Loaded&&(this.Card.Loaded=void 0);for(let n of this.Card?.Children??[])if(n.Loaded?.next(n.Type),n.Type=="card-actions")for(let i of n.Children)i.Loaded?.next(i.Type)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-card"]],inputs:{Card:"Card"},standalone:!0,features:[h],decls:2,vars:3,consts:[[1,"dad-card"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["mat-card-image","",3,"src","title",4,"ngSwitchCase"],[3,"style",4,"ngSwitchCase"],["mat-card-image","",3,"src","title"],[4,"ngIf"],["mat-card-avatar","",3,"src","title",4,"ngIf"],["mat-card-avatar","",3,"src","title"],[3,"Widget",4,"ngFor","ngForOf"],[3,"Widget"],["mat-button","","color","primary",3,"routerLink",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"routerLink"]],template:function(i,o){i&1&&(c(0,"mat-card",0),g(1,li,6,6,"ng-container",1),l()),i&2&&(x(o.Card==null?null:o.Card.Style),s(),d("ngForOf",o.Card==null?null:o.Card.Children))},dependencies:()=>[y,O,E,Jt,Qt,nt,Zt,ne,ie,qe,Fe,Me,Oe,De,Se,Te,Ie,Ee,we,ee,te,N]});let e=t;return e})();var Le=(()=>{let t=class t{constructor(){this.Chart=void 0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-chart"]],inputs:{Chart:"Chart"},standalone:!0,features:[h],decls:2,vars:0,template:function(i,o){i&1&&(c(0,"p"),b(1,"dad-chart works!"),l())}});let e=t;return e})();var Ne=(()=>{let t=class t{constructor(){this.Editor=void 0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-editor"]],inputs:{Editor:"Editor"},standalone:!0,features:[h],decls:2,vars:0,template:function(i,o){i&1&&(c(0,"p"),b(1,"dad-editor works!"),l())}});let e=t;return e})();function mi(e,t){if(e&1&&p(0,"app-dad-widget",3),e&2){let r=t.$implicit;d("Widget",r)}}function pi(e,t){if(e&1&&(c(0,"form",1),g(1,mi,1,1,"app-dad-widget",2),l()),e&2){let r=f();x(r.Form==null?null:r.Form.Style),d("formGroup",r.FormGroup),s(),d("ngForOf",r.Form==null?null:r.Form.Children)}}var Ve=(()=>{let t=class t{constructor(){this.tests=null,this._formData=void 0,this.DadForm={},this.FormGroup=void 0}set Form(n){this.DadForm={},this.FormGroup=void 0,this.recursiveFields(n.Children??[]),this.FormGroup=new le(this.DadForm),this._formData=n,this.tests&&this.tests.unsubscribe(),this.tests=this.FormGroup.valueChanges.subscribe(i=>{})}get Form(){return this._formData}recursiveFields(n){for(let i of n){if(i?.Type.startsWith("field-")){let o=i;o.Control=new ot(o.Value??""),this.DadForm[o.Key]=o.Control}i.Children&&this.recursiveFields(i.Children)}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-form"]],inputs:{Form:"Form"},standalone:!0,features:[h],decls:1,vars:1,consts:[[3,"formGroup","style",4,"ngIf"],[3,"formGroup"],[3,"Widget",4,"ngFor","ngForOf"],[3,"Widget"]],template:function(i,o){i&1&&g(0,pi,2,4,"form",0),i&2&&d("ngIf",o.FormGroup)},dependencies:()=>[y,O,E,rt,ce,se,pe,N]});let e=t;return e})();var ze=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-table"]],inputs:{Table:"Table"},standalone:!0,features:[h],decls:2,vars:0,template:function(i,o){i&1&&(c(0,"p"),b(1,"dad-table works!"),l())}});let e=t;return e})();var at={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},xt=new Z("config",{providedIn:"root",factory:()=>({modules:at})});function ui(e,t){e&1&&p(0,"div",0)}function fi(e,t){e&1&&p(0,"div",0)}var hi=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],gi=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"],H=(e,t)=>e||t||"html",_t=(()=>{let t=class t{constructor(n,i){this.config=i,this.quill$=St(()=>dt(this,null,function*(){if(!this.Quill){let o=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let a=yield import("./chunk-HKFGN4JG.js");this.document.addEventListener=o,this.Quill=a.default?.default??a.default??a}return this.config.customOptions?.forEach(o=>{let a=this.Quill.import(o.import);a.whitelist=o.whitelist,this.Quill.register(a,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe(J({bufferSize:1,refCount:!0})),this.document=n.get(gt),this.config||(this.config={modules:at})}getQuill(){return this.quill$}registerCustomModules(n,i,o){return dt(this,null,function*(){if(Array.isArray(i))for(let{implementation:a,path:m}of i)Et(a)&&(a=yield Mt(a)),n.register(m,a,o);return n})}};t.\u0275fac=function(i){return new(i||t)(mt(Lt),mt(xt,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vi=(()=>{let t=class t{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.customOptions=[],this.customModules=[],this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new T,this.onEditorChanged=new T,this.onContentChanged=new T,this.onSelectionChanged=new T,this.onFocus=new T,this.onBlur=new T,this.onNativeFocus=new T,this.onNativeBlur=new T,this.disabled=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=q(U),this.document=q(gt),this.cd=q(Vt),this.domSanitizer=q(P),this.platformId=q(lt),this.renderer=q(tt),this.zone=q(et),this.service=q(_t),this.valueGetter=n=>{let i=n.getSemanticHTML();(i==="<p><br></p>"||i==="<div><br></div>")&&(i=this.defaultEmptyValue);let o=i,a=H(this.format,this.service.config.format);if(a==="text")o=n.getText();else if(a==="object")o=n.getContents();else if(a==="json")try{o=JSON.stringify(n.getContents())}catch{o=n.getText()}return o},this.valueSetter=(n,i)=>{let o=H(this.format,this.service.config.format);if(o==="html")return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(i=this.domSanitizer.sanitize(pt.HTML,i)),n.clipboard.convert({html:i});if(o==="json")try{return JSON.parse(i)}catch{return[{insert:i}]}return i},this.selectionChangeHandler=(n,i,o)=>{let a=this.trackChanges||this.service.config.trackChanges,m=!n&&!!this.onModelTouched&&(o==="user"||a&&a==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!m||this.zone.run(()=>{n===null?this.onBlur.emit({editor:this.quillEditor,source:o}):i===null&&this.onFocus.emit({editor:this.quillEditor,source:o}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:i,range:n,source:o}),m&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(n,i,o)=>{let a=this.quillEditor.getText(),m=this.quillEditor.getContents(),v=this.quillEditor.getSemanticHTML();(v==="<p><br></p>"||v==="<div><br></div>")&&(v=this.defaultEmptyValue);let C=this.trackChanges||this.service.config.trackChanges,D=(o==="user"||C&&C==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!D||this.zone.run(()=>{D&&this.onModelChange(this.valueGetter(this.quillEditor)),this.onContentChanged.emit({content:m,delta:n,editor:this.quillEditor,html:v,oldDelta:i,source:o,text:a}),this.cd.markForCheck()})},this.editorChangeHandler=(n,i,o,a)=>{if(this.onEditorChanged.observed)if(n==="text-change"){let m=this.quillEditor.getText(),v=this.quillEditor.getContents(),C=this.quillEditor.getSemanticHTML();(C==="<p><br></p>"||C==="<div><br></div>")&&(C=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:v,delta:i,editor:this.quillEditor,event:n,html:C,oldDelta:o,source:a,text:m}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:n,oldRange:o,range:i,source:a}),this.cd.markForCheck()})}}static normalizeClassNames(n){return n.trim().split(" ").reduce((o,a)=>{let m=a.trim();return m&&o.push(m),o},[])}ngOnInit(){this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){vt(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(st(n=>{let i=[this.service.registerCustomModules(n,this.customModules)],o=this.beforeRender??this.service.config.beforeRender;return o&&i.push(o()),Promise.all(i).then(()=>n)})).subscribe(n=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),o=Object.assign({},this.modules||this.service.config.modules);i?o.toolbar=i:o.toolbar===void 0&&(o.toolbar=at.toolbar);let a=this.placeholder!==void 0?this.placeholder:this.service.config.placeholder;a===void 0&&(a="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(F=>{this.renderer.setStyle(this.editorElem,F,this.styles[F])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(F=>{let M=n.import(F.import);M.whitelist=F.whitelist,n.register(M,!0)});let m=this.bounds&&this.bounds==="self"?this.editorElem:this.bounds;m||(m=this.service.config.bounds?this.service.config.bounds:this.document.body);let v=this.debug;!v&&v!==!1&&this.service.config.debug&&(v=this.service.config.debug);let C=this.readOnly;!C&&this.readOnly!==!1&&(C=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let D=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(D=this.service.config.defaultEmptyValue);let L=this.formats;if(!L&&L===void 0&&(L=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new n(this.editorElem,{bounds:m,debug:v,formats:L,modules:o,placeholder:a,readOnly:C,defaultEmptyValue:D,registry:this.registry,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container?.addEventListener("mousedown",M=>M.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){let M=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");M?.dataset&&(M.dataset.link=this.linkPlaceholder)}}),this.content){if(H(this.format,this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let He=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(He,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(n){if(this.quillEditor){if(n.readOnly&&this.quillEditor.enable(!n.readOnly.currentValue),n.placeholder&&(this.quillEditor.root.dataset.placeholder=n.placeholder.currentValue),n.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=n.defaultEmptyValue.currentValue),n.styles){let i=n.styles.currentValue,o=n.styles.previousValue;o&&Object.keys(o).forEach(a=>{this.renderer.removeStyle(this.editorElem,a)}),i&&Object.keys(i).forEach(a=>{this.renderer.setStyle(this.editorElem,a,this.styles[a])})}if(n.classes){let i=n.classes.currentValue,o=n.classes.previousValue;o&&this.removeClasses(o),i&&this.addClasses(i)}n.debounceTime&&this.addQuillEventListeners()}}addClasses(n){t.normalizeClassNames(n).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(n){t.normalizeClassNames(n).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(n){if(this.filterNull&&n===null||(this.content=n,!this.quillEditor))return;let i=H(this.format,this.service.config.format),o=this.valueSetter(this.quillEditor,n);if(this.compareValues){let a=this.quillEditor.getContents();if(JSON.stringify(a)===JSON.stringify(o))return}if(n){i==="text"?this.quillEditor.setText(n):this.quillEditor.setContents(o);return}this.quillEditor.setText("")}setDisabledState(n=this.disabled){this.disabled=n,this.quillEditor&&(n?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}registerOnValidatorChange(n){this.onValidatorChanged=n}validate(){if(!this.quillEditor)return null;let n={},i=!0,o=this.quillEditor.getText(),a=this.trimOnValidation?o.trim().length:o.length===1&&o.trim().length===0?0:o.length-1,m=this.quillEditor.getContents().ops,v=!!m&&m.length===1&&[`
`,""].includes(m[0].insert?.toString());return this.minLength&&a&&a<this.minLength&&(n.minLengthError={given:a,minLength:this.minLength},i=!1),this.maxLength&&a>this.maxLength&&(n.maxLengthError={given:a,maxLength:this.maxLength},i=!1),this.required&&!a&&v&&(n.requiredError={empty:!0},i=!1),i?null:n}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new wt,this.subscription.add($(this.quillEditor,"selection-change").subscribe(([o,a,m])=>{this.selectionChangeHandler(o,a,m)}));let n=$(this.quillEditor,"text-change"),i=$(this.quillEditor,"editor-change");typeof this.debounceTime=="number"&&(n=n.pipe(k(this.debounceTime)),i=i.pipe(k(this.debounceTime))),this.subscription.add(n.subscribe(([o,a,m])=>{this.textChangeHandler(o,a,m)})),this.subscription.add(i.subscribe(([o,a,m,v])=>{this.editorChangeHandler(o,a,m,v)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=S({type:t,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",registry:"registry",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[Y]});let e=t;return e})(),Ci=(()=>{let t=class t extends vi{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=At(t)))(o||t)}})(),t.\u0275cmp=u({type:t,selectors:[["quill-editor"]],standalone:!0,features:[Gt([{multi:!0,provide:oe,useExisting:ct(()=>t)},{multi:!0,provide:ae,useExisting:ct(()=>t)}]),zt,h],ngContentSelectors:gi,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(i,o){i&1&&(j(hi),g(0,ui,1,0,"div",0),A(1),A(2,1),A(3,2),g(4,fi,1,0,"div",0)),i&2&&(ht(0,o.toolbarPosition!=="top"?0:-1),s(4),ht(4,o.toolbarPosition==="top"?4:-1))},dependencies:[y],styles:["[_nghost-%COMP%]{display:inline-block}"]});let e=t;return e})(),yi=(()=>{let t=class t{constructor(n,i){this.sanitizer=n,this.service=i,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(n){if(n.theme){let i=n.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow");this.themeClass=`ql-${i} ngx-quill-view-html`}else if(!this.theme){let i=this.service.config.theme?this.service.config.theme:"snow";this.themeClass=`ql-${i} ngx-quill-view-html`}if(n.content){let i=n.content.currentValue,o=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=o?i:this.sanitizer.bypassSecurityTrustHtml(i)}}};t.\u0275fac=function(i){return new(i||t)(_(P),_(_t))},t.\u0275cmp=u({type:t,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[Y,h],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(i,o){i&1&&(c(0,"div",0),p(1,"div",1),l()),i&2&&(d("ngClass",o.themeClass),s(),d("innerHTML",o.innerHTML,Nt))},dependencies:[y,it],styles:[`.ql-container.ngx-quill-view-html{border:0}
`],encapsulation:2});let e=t;return e})(),Ft=(()=>{let t=class t{constructor(n,i,o,a,m,v){this.elementRef=n,this.renderer=i,this.zone=o,this.service=a,this.domSanitizer=m,this.platformId=v,this.strict=!0,this.customModules=[],this.customOptions=[],this.onEditorCreated=new T,this.quillSubscription=null,this.valueSetter=(C,D)=>{let L=H(this.format,this.service.config.format),F=D;if(L==="text")C.setText(F);else{if(L==="html")([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(D=this.domSanitizer.sanitize(pt.HTML,D)),F=C.clipboard.convert({html:D});else if(L==="json")try{F=JSON.parse(D)}catch{F=[{insert:D}]}C.setContents(F)}}}ngOnChanges(n){this.quillEditor&&n.content&&this.valueSetter(this.quillEditor,n.content.currentValue)}ngAfterViewInit(){vt(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(st(n=>{let i=[this.service.registerCustomModules(n,this.customModules)],o=this.beforeRender??this.service.config.beforeRender;return o&&i.push(o()),Promise.all(i).then(()=>n)})).subscribe(n=>{let i=Object.assign({},this.modules||this.service.config.modules);i.toolbar=!1,this.customOptions.forEach(v=>{let C=n.import(v.import);C.whitelist=v.whitelist,n.register(C,!0)});let o=this.debug;!o&&o!==!1&&this.service.config.debug&&(o=this.service.config.debug);let a=this.formats;!a&&a===void 0&&(a=this.service.config.formats?Object.assign({},this.service.config.formats):this.service.config.formats===null?null:void 0);let m=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new n(this.editorElem,{debug:o,formats:a,modules:i,readOnly:!0,strict:this.strict,theme:m})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.quillSubscription?.unsubscribe(),this.quillSubscription=null}};t.\u0275fac=function(i){return new(i||t)(_(U),_(tt),_(et),_(_t),_(P),_(lt))},t.\u0275cmp=u({type:t,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[Y,h],decls:1,vars:0,consts:[["quill-view-element",""]],template:function(i,o){i&1&&p(0,"div",0)},dependencies:[y],styles:[`.ql-container.ngx-quill-view{border:0}
`],encapsulation:2});let e=t;return e})(),We=(()=>{let t=class t{static forRoot(n){return{ngModule:t,providers:[{provide:xt,useValue:n}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=X({imports:[Ci,Ft,yi]});let e=t;return e})();var ke=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-view"]],inputs:{View:"View"},standalone:!0,features:[h],decls:1,vars:2,consts:[["format","html","theme","snow",1,"view-quill",3,"content","sanitize"]],template:function(i,o){i&1&&p(0,"quill-view",0),i&2&&d("content",o.View==null?null:o.View.HTML)("sanitize",!0)},dependencies:[y,We,Ft]});let e=t;return e})();function xi(e,t){if(e&1&&p(0,"app-dad-widget",4),e&2){let r=t.$implicit;d("Widget",r)}}function _i(e,t){if(e&1&&(c(0,"div",2),g(1,xi,1,1,"app-dad-widget",3),l()),e&2){let r=t.$implicit;x(r==null?null:r.Style),s(),d("ngForOf",r==null?null:r.Children)}}var je=(()=>{let t=class t{constructor(){this.Container=void 0}ngAfterViewInit(){this.Container?.Loaded?.next(this.Container.Type),this.Container?.Loaded&&(this.Container.Loaded=void 0);for(let n of this.Container?.Children??[])n.Loaded?.next(n.Type)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-container"]],inputs:{Container:"Container"},standalone:!0,features:[h],decls:2,vars:3,consts:[[1,"dad-container"],["class","dad-container-item",3,"style",4,"ngFor","ngForOf"],[1,"dad-container-item"],[3,"Widget",4,"ngFor","ngForOf"],[3,"Widget"]],template:function(i,o){i&1&&(c(0,"div",0),g(1,_i,2,3,"div",1),l()),i&2&&(x(o.Container==null?null:o.Container.Style),s(),d("ngForOf",o.Container==null?null:o.Container.Children))},dependencies:()=>[y,O,N]});let e=t;return e})();function Fi(e,t){if(e&1&&(c(0,"mat-label"),b(1),l()),e&2){let r=f();s(),I(r.FieldText==null?null:r.FieldText.Label)}}function wi(e,t){if(e&1&&(c(0,"option",6),b(1),l()),e&2){let r=t.$implicit;d("value",r.Value===void 0?r.Display:r.Value),s(),R(" ",r.Display===void 0?r.Value:r.Display,"")}}function Di(e,t){if(e&1&&(c(0,"datalist",4),g(1,wi,2,2,"option",5),l()),e&2){let r=t.ngIf,n=f();d("id",(n.FieldText==null?null:n.FieldText.Key)+"-list"),s(),d("ngForOf",r)}}var Re=(()=>{let t=class t{constructor(){this.JSON=JSON,this.FieldText=void 0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-field-text"]],inputs:{FieldText:"FieldText"},standalone:!0,features:[h],decls:4,vars:7,consts:[[3,"appearance"],[4,"ngIf"],["matInput","","type","text",3,"formControl"],[3,"id",4,"ngIf"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,o){if(i&1&&(c(0,"mat-form-field",0),g(1,Fi,2,1,"mat-label",1),p(2,"input",2),g(3,Di,2,2,"datalist",3),l()),i&2){let a;x(o.FieldText==null?null:o.FieldText.Style),d("appearance",(a=o.FieldText==null?null:o.FieldText.Appearance)!==null&&a!==void 0?a:"fill"),s(),d("ngIf",o.FieldText==null?null:o.FieldText.Label),s(),d("formControl",o.FieldText==null?null:o.FieldText.Control),Wt("list",(o.FieldText==null?null:o.FieldText.Key)+"-list"),s(),d("ngIf",o.FieldText==null?null:o.FieldText.DataList)}},dependencies:[y,O,E,rt,ue,fe,re,de,me,ve,ge,he,ye,Ce]});let e=t;return e})();function Ei(e,t){if(e&1&&p(0,"app-dad-field-text",1),e&2){let r=f();d("FieldText",r.AsTextField())}}var Pe=(()=>{let t=class t{constructor(){this.JSON=JSON,this.Field=void 0,this.AsTextField=()=>this.Field}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-field"]],inputs:{Field:"Field"},standalone:!0,features:[h],decls:1,vars:1,consts:[[3,"FieldText",4,"ngIf"],[3,"FieldText"]],template:function(i,o){i&1&&g(0,Ei,1,1,"app-dad-field-text",0),i&2&&d("ngIf",(o.Field==null?null:o.Field.Type)==="field-text")},dependencies:[y,E,Re]});let e=t;return e})();function Mi(e,t){if(e&1&&p(0,"app-dad-container",10),e&2){let r=f();d("Container",r.AsContainer())}}function Ti(e,t){if(e&1&&p(0,"app-dad-banner",11),e&2){let r=f();d("Banner",r.AsBanner())}}function Si(e,t){if(e&1&&p(0,"app-dad-card",12),e&2){let r=f();d("Card",r.AsCard())}}function Ii(e,t){if(e&1&&p(0,"app-dad-chart",13),e&2){let r=f();d("Chart",r.AsChart())}}function Oi(e,t){if(e&1&&p(0,"app-dad-editor",14),e&2){let r=f();d("Editor",r.AsEdtior())}}function qi(e,t){if(e&1&&p(0,"app-dad-form",15),e&2){let r=f();d("Form",r.AsForm())}}function Ai(e,t){if(e&1&&p(0,"app-dad-field",16),e&2){let r=f();d("Field",r.AsField())}}function Li(e,t){if(e&1&&p(0,"app-dad-table",17),e&2){let r=f();d("Table",r.AsTable())}}function Ni(e,t){if(e&1&&p(0,"app-dad-view",18),e&2){let r=f();d("View",r.AsView())}}function Vi(e,t){if(e&1&&(c(0,"span"),b(1),l()),e&2){let r=f();x(r.AsText().Style),s(),I(r.AsText().Text)}}var N=(()=>{let t=class t{constructor(){this.JSON=JSON,this.Widget=void 0,this.AsContainer=()=>this.Widget,this.AsCard=()=>this.Widget,this.AsBanner=()=>this.Widget,this.AsChart=()=>this.Widget,this.AsEdtior=()=>this.Widget,this.AsForm=()=>this.Widget,this.AsField=()=>this.Widget,this.AsTable=()=>this.Widget,this.AsView=()=>this.Widget,this.AsText=()=>this.Widget}ngAfterViewInit(){this.Widget?.Loaded?.next(this.Widget.Type)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-dad-widget"]],inputs:{Widget:"Widget"},standalone:!0,features:[h],decls:10,vars:10,consts:[[3,"Container",4,"ngIf"],[3,"Banner",4,"ngIf"],[3,"Card",4,"ngIf"],[3,"Chart",4,"ngIf"],[3,"Editor",4,"ngIf"],[3,"Form",4,"ngIf"],[3,"Field",4,"ngIf"],[3,"Table",4,"ngIf"],[3,"View",4,"ngIf"],[3,"style",4,"ngIf"],[3,"Container"],[3,"Banner"],[3,"Card"],[3,"Chart"],[3,"Editor"],[3,"Form"],[3,"Field"],[3,"Table"],[3,"View"]],template:function(i,o){i&1&&g(0,Mi,1,1,"app-dad-container",0)(1,Ti,1,1,"app-dad-banner",1)(2,Si,1,1,"app-dad-card",2)(3,Ii,1,1,"app-dad-chart",3)(4,Oi,1,1,"app-dad-editor",4)(5,qi,1,1,"app-dad-form",5)(6,Ai,1,1,"app-dad-field",6)(7,Li,1,1,"app-dad-table",7)(8,Ni,1,1,"app-dad-view",8)(9,Vi,2,3,"span",9),i&2&&(d("ngIf",(o.Widget==null?null:o.Widget.Type)==="container"),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="banner"),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="card"),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="chart"),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="editor"),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="form"),s(),d("ngIf",o.Widget==null||o.Widget.Type==null?null:o.Widget.Type.startsWith("field")),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="table"),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="view"),s(),d("ngIf",(o.Widget==null?null:o.Widget.Type)==="text"))},dependencies:[y,E,je,_e,Ae,Le,Ne,Ve,Pe,ze,ke]});let e=t;return e})();var Be=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Wi(e,t){if(e&1&&p(0,"app-dad-widget",5),e&2){let r=t.$implicit;d("Widget",r)}}function ki(e,t){e&1&&(c(0,"div")(1,"h1"),b(2,"No Widgets Provided"),l()())}function ji(e,t){if(e&1&&(c(0,"div",6)(1,"h1"),b(2,"Error Fetching Page Data"),l(),c(3,"p",7),b(4),l()()),e&2){let r=f();s(4),I(r.Error)}}var dr=(()=>{let t=class t{initializeWidgets(n,i=void 0){for(let o of n){if(this.widgetCount++,o.Loaded=this.widgetLoaded,o.Type==="form"){let a=o;i={},a.FormGroup=i}if(o?.Type.startsWith("field-")){let a=o;a.Control=new ot(a.Value??""),i&&(i[a.Key]=a.Control)}o.Children&&(o.Children=this.initializeWidgets(o.Children,i))}return n}constructor(n,i,o){this.http=n,this.route=i,this.page=o,this.fadeInOut=!0,this.JSON=JSON,this.widgetCount=0,this.widgetLoadCount=0,this.widgetLoaded=new Dt,this.PageLoad=this.widgetLoaded.pipe(G(a=>(this.widgetLoadCount++,Math.floor(this.widgetLoadCount/this.widgetCount*100))),k(0),J(1)),this.NoData=!1,this.Error=void 0,this.PageData=this.route.data.pipe(Ot(300),G(a=>this.http.get(a.DataUrl)),Tt(),It(a=>(this.Error=JSON.stringify(a,null,4),[])),G(a=>(this.widgetCount=0,this.widgetLoadCount=0,this.initializeWidgets(a))),qt(()=>{this.widgetCount===0&&(this.NoData=!0)}))}};t.\u0275fac=function(i){return new(i||t)(_(Kt),_(Xt),_(Be))},t.\u0275cmp=u({type:t,selectors:[["app-dad-page"]],hostVars:1,hostBindings:function(i,o){i&2&&Rt("@fadeInOut",o.fadeInOut)},standalone:!0,features:[h],decls:10,vars:18,consts:[[3,"color","mode","value","bufferValue"],[1,"dad-page-container","dad-fade",3,"ngClass"],[3,"Widget",4,"ngFor","ngForOf"],[4,"ngIf"],["class","page-error-container",4,"ngIf"],[3,"Widget"],[1,"page-error-container"],[1,"page-error"]],template:function(i,o){if(i&1&&(p(0,"mat-progress-bar",0),z(1,"async"),z(2,"async"),z(3,"async"),c(4,"div",1),z(5,"async"),g(6,Wi,1,1,"app-dad-widget",2),z(7,"async"),l(),g(8,ki,3,0,"div",3)(9,ji,5,1,"div",4)),i&2){let a,m,v,C;d("color",((a=W(1,8,o.PageLoad))!==null&&a!==void 0?a:0)>=100?"primary":"accent")("mode","buffer")("value",(m=W(2,10,o.PageLoad))!==null&&m!==void 0?m:0)("bufferValue",(v=W(3,12,o.PageLoad))!==null&&v!==void 0?v:0),s(4),d("ngClass",((C=W(5,14,o.PageLoad))!==null&&C!==void 0?C:0)>=1?"dad-fade-show":""),s(2),d("ngForOf",W(7,16,o.PageData)),s(2),d("ngIf",o.NoData&&!o.Error),s(),d("ngIf",o.Error)}},dependencies:[y,it,O,E,Ut,nt,xe,be,N],styles:[".page-error[_ngcontent-%COMP%]{white-space:pre-wrap}.page-error-container[_ngcontent-%COMP%]{padding:2em}"],data:{animation:[Yt("fadeInOut",[yt(":enter",[B({opacity:0}),Ct(300,B({opacity:1}))]),yt(":leave",[B({position:"absolute",width:"100%",zIndex:"-1"}),Ct(300,B({opacity:0}))])])]}});let e=t;return e})();export{dr as DadPageComponent};
