import{Ba as it,Ca as st,F as P,T as N,V as F,Z as nt,Za as _,eb as ht,h as d,m as rt,na as T,qa as at,r as v,vc as ct,xa as w,ya as ot}from"./chunk-56WM6XII.js";import{a as k,b as I}from"./chunk-MON7YFGF.js";var b=class b{};b.CACHE_UNIQUE_KEY="DAD-CACHE",b.CONFIG_CACHE_LIFETIME_MS=0,b.CONFIG_CACHE_FORCE_REFRESH=void 0,b.CONFIG_URL="/assets/dad-config.json",b.Config={},b.InitialRoutes=[],b.RouterOptions={},b.MaterialCssVariablesConfig={primary:"#3f51b5"};var M=b;var ut="DAD-CACHE",lt="META";var ft=(()=>{let t=class t{getMeta(){let n=localStorage.getItem(this.getFullKey(this.metaKey));return n===null?[]:JSON.parse(n)}setMeta(n){localStorage.setItem(this.getFullKey(this.metaKey),JSON.stringify(n))}constructor(){this.now=()=>new Date().getTime(),this.initConfig=new d(1),this.LoadInitConfig=n=>this.initConfig.next(n),this.userConfig=new d(1),this.LoadUserConfig=n=>this.userConfig.next(n),this.CacheConfig=this.initConfig.pipe(P(this.userConfig.pipe(F({}))),v(([n,a])=>Object.assign(n,a)),N(1)),this.getFullKey=n=>`${this.baseKey}-${n}`,this.Count=()=>this.getMeta().length,this.baseKey=M.CACHE_UNIQUE_KEY??ut,this.metaKey=this.getFullKey(lt),this.Save=(n,a,o)=>{let i={Data:a,CreatedUnix:this.now(),ExpiresUnix:o&&this.now()+o};localStorage.setItem(this.getFullKey(n),JSON.stringify(i));let s=this.getMeta();return s.includes(n)||s.push(this.getFullKey(n)),this.setMeta(s),i}}GetOrMakeAsync(n,a,o){let i=this.Get(n);return i!==null&&(!o||i.CreatedUnix>o)?rt(i):a.pipe(v(s=>this.Save(n,s,o)))}Get(n,a){let o=localStorage.getItem(this.getFullKey(n));if(o===null)return null;let i=JSON.parse(o);return i.ExpiresUnix&&this.now()<i.ExpiresUnix||a&&a>i.CreatedUnix?(this.Clear(n),null):i}Clear(n){let a=this.getMeta();a.includes(n)&&a.splice(a.indexOf(n),1),this.setMeta(a),localStorage.removeItem(this.getFullKey(n))}ClearApp(){let n=this.getMeta();for(let a of n)localStorage.removeItem(a);this.setMeta([])}ClearAll(){localStorage.clear()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gt=(()=>{let t=class t{constructor(){this.initConfigCache=new d(1),this.pageConfigCache=new d(1),this.userConfigCache=new d(1),this.AppConfig=this.initConfigCache.pipe(P(this.pageConfigCache.pipe(F({}))),v(([n,a])=>Object.assign(n??{},a??{})),P(this.userConfigCache.pipe(F({}))),v(([n,a])=>Object.assign(n,a??{})),N(1)),this.LoadInitConfig=n=>this.initConfigCache.next(n),this.OnPageConfig=n=>this.pageConfigCache.next(n),this.OnUserConfig=n=>this.userConfigCache.next(n)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function c(e,t){jt(e)&&(e="100%");let r=Nt(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function $(e){return Math.min(1,Math.max(0,e))}function jt(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Nt(e){return typeof e=="string"&&e.indexOf("%")!==-1}function L(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function O(e){return Number(e)<=1?`${Number(e)*100}%`:e}function S(e){return e.length===1?"0"+e:String(e)}function pt(e,t,r){return{r:c(e,255)*255,g:c(t,255)*255,b:c(r,255)*255}}function U(e,t,r){e=c(e,255),t=c(t,255),r=c(r,255);let n=Math.max(e,t,r),a=Math.min(e,t,r),o=0,i=0,s=(n+a)/2;if(n===a)i=0,o=0;else{let h=n-a;switch(i=s>.5?h/(2-n-a):h/(n+a),n){case e:o=(t-r)/h+(t<r?6:0);break;case t:o=(r-e)/h+2;break;case r:o=(e-t)/h+4;break;default:break}o/=6}return{h:o,s:i,l:s}}function G(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function mt(e,t,r){let n,a,o;if(e=c(e,360),t=c(t,100),r=c(r,100),t===0)a=r,o=r,n=r;else{let i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;n=G(s,i,e+1/3),a=G(s,i,e),o=G(s,i,e-1/3)}return{r:n*255,g:a*255,b:o*255}}function B(e,t,r){e=c(e,255),t=c(t,255),r=c(r,255);let n=Math.max(e,t,r),a=Math.min(e,t,r),o=0,i=n,s=n-a,h=n===0?0:s/n;if(n===a)o=0;else{switch(n){case e:o=(t-r)/s+(t<r?6:0);break;case t:o=(r-e)/s+2;break;case r:o=(e-t)/s+4;break;default:break}o/=6}return{h:o,s:h,v:i}}function dt(e,t,r){e=c(e,360)*6,t=c(t,100),r=c(r,100);let n=Math.floor(e),a=e-n,o=r*(1-t),i=r*(1-a*t),s=r*(1-(1-a)*t),h=n%6,A=[r,i,o,o,s,r][h],H=[s,r,r,i,o,o][h],D=[o,o,s,r,r,i][h];return{r:A*255,g:H*255,b:D*255}}function X(e,t,r,n){let a=[S(Math.round(e).toString(16)),S(Math.round(t).toString(16)),S(Math.round(r).toString(16))];return n&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function bt(e,t,r,n,a){let o=[S(Math.round(e).toString(16)),S(Math.round(t).toString(16)),S(Math.round(r).toString(16)),S(Mt(n))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Mt(e){return Math.round(parseFloat(e)*255).toString(16)}function q(e){return l(e)/255}function l(e){return parseInt(e,16)}function yt(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var E={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function At(e){let t={r:0,g:0,b:0},r=1,n=null,a=null,o=null,i=!1,s=!1;return typeof e=="string"&&(e=Dt(e)),typeof e=="object"&&(C(e.r)&&C(e.g)&&C(e.b)?(t=pt(e.r,e.g,e.b),i=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):C(e.h)&&C(e.s)&&C(e.v)?(n=O(e.s),a=O(e.v),t=dt(e.h,n,a),i=!0,s="hsv"):C(e.h)&&C(e.s)&&C(e.l)&&(n=O(e.s),o=O(e.l),t=mt(e.h,n,o),i=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=L(r),{ok:i,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var Lt="[-\\+]?\\d+%?",Wt="[-\\+]?\\d*\\.\\d+%?",R="(?:"+Wt+")|(?:"+Lt+")",J="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",Y="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",p={CSS_UNIT:new RegExp(R),rgb:new RegExp("rgb"+J),rgba:new RegExp("rgba"+Y),hsl:new RegExp("hsl"+J),hsla:new RegExp("hsla"+Y),hsv:new RegExp("hsv"+J),hsva:new RegExp("hsva"+Y),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Dt(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;let t=!1;if(E[e])e=E[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let r=p.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=p.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=p.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=p.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=p.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=p.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=p.hex8.exec(e),r?{r:l(r[1]),g:l(r[2]),b:l(r[3]),a:q(r[4]),format:t?"name":"hex8"}:(r=p.hex6.exec(e),r?{r:l(r[1]),g:l(r[2]),b:l(r[3]),format:t?"name":"hex"}:(r=p.hex4.exec(e),r?{r:l(r[1]+r[1]),g:l(r[2]+r[2]),b:l(r[3]+r[3]),a:q(r[4]+r[4]),format:t?"name":"hex8"}:(r=p.hex3.exec(e),r?{r:l(r[1]+r[1]),g:l(r[2]+r[2]),b:l(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function C(e){return!!p.CSS_UNIT.exec(String(e))}var f=class e{constructor(t="",r={}){if(t instanceof e)return t;typeof t=="number"&&(t=yt(t)),this.originalInput=t;let n=At(t);this.originalInput=t,this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.roundA=Math.round(100*this.a)/100,this.format=r.format??n.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=n.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){let t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3}getLuminance(){let t=this.toRgb(),r,n,a,o=t.r/255,i=t.g/255,s=t.b/255;return o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*n+.0722*a}getAlpha(){return this.a}setAlpha(t){return this.a=L(t),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){let{s:t}=this.toHsl();return t===0}toHsv(){let t=B(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}}toHsvString(){let t=B(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?`hsv(${r}, ${n}%, ${a}%)`:`hsva(${r}, ${n}%, ${a}%, ${this.roundA})`}toHsl(){let t=U(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}}toHslString(){let t=U(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?`hsl(${r}, ${n}%, ${a}%)`:`hsla(${r}, ${n}%, ${a}%, ${this.roundA})`}toHex(t=!1){return X(this.r,this.g,this.b,t)}toHexString(t=!1){return"#"+this.toHex(t)}toHex8(t=!1){return bt(this.r,this.g,this.b,this.a,t)}toHex8String(t=!1){return"#"+this.toHex8(t)}toHexShortString(t=!1){return this.a===1?this.toHexString(t):this.toHex8String(t)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){let t=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?`rgb(${t}, ${r}, ${n})`:`rgba(${t}, ${r}, ${n}, ${this.roundA})`}toPercentageRgb(){let t=r=>`${Math.round(c(r,255)*100)}%`;return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}}toPercentageRgbString(){let t=r=>Math.round(c(r,255)*100);return this.a===1?`rgb(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%)`:`rgba(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%, ${this.roundA})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;let t="#"+X(this.r,this.g,this.b,!1);for(let[r,n]of Object.entries(E))if(t===n)return r;return!1}toString(t){let r=!!t;t=t??this.format;let n=!1,a=this.a<1&&this.a>=0;return!r&&a&&(t.startsWith("hex")||t==="name")?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new e(this.toString())}lighten(t=10){let r=this.toHsl();return r.l+=t/100,r.l=$(r.l),new e(r)}brighten(t=10){let r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)}darken(t=10){let r=this.toHsl();return r.l-=t/100,r.l=$(r.l),new e(r)}tint(t=10){return this.mix("white",t)}shade(t=10){return this.mix("black",t)}desaturate(t=10){let r=this.toHsl();return r.s-=t/100,r.s=$(r.s),new e(r)}saturate(t=10){let r=this.toHsl();return r.s+=t/100,r.s=$(r.s),new e(r)}greyscale(){return this.desaturate(100)}spin(t){let r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)}mix(t,r=50){let n=this.toRgb(),a=new e(t).toRgb(),o=r/100,i={r:(a.r-n.r)*o+n.r,g:(a.g-n.g)*o+n.g,b:(a.b-n.b)*o+n.b,a:(a.a-n.a)*o+n.a};return new e(i)}analogous(t=6,r=30){let n=this.toHsl(),a=360/r,o=[this];for(n.h=(n.h-(a*t>>1)+720)%360;--t;)n.h=(n.h+a)%360,o.push(new e(n));return o}complement(){let t=this.toHsl();return t.h=(t.h+180)%360,new e(t)}monochromatic(t=6){let r=this.toHsv(),{h:n}=r,{s:a}=r,{v:o}=r,i=[],s=1/t;for(;t--;)i.push(new e({h:n,s:a,v:o})),o=(o+s)%1;return i}splitcomplement(){let t=this.toHsl(),{h:r}=t;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]}onBackground(t){let r=this.toRgb(),n=new e(t).toRgb(),a=r.a+n.a*(1-r.a);return new e({r:(r.r*r.a+n.r*n.a*(1-r.a))/a,g:(r.g*r.a+n.g*n.a*(1-r.a))/a,b:(r.b*r.a+n.b*n.a*(1-r.a))/a,a})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(t){let r=this.toHsl(),{h:n}=r,a=[this],o=360/t;for(let i=1;i<t;i++)a.push(new e({h:(n+i*o)%360,s:r.s,l:r.l}));return a}equals(t){return this.toRgbString()===new e(t).toRgbString()}};var y=function(e){return e.Primary="--palette-primary-",e.Accent="--palette-accent-",e.Warn="--palette-warn-",e}(y||{});var _t={isAutoContrast:!0,isAlternativeColorAlgorithm:!1,darkThemeClass:"isDarkTheme",lightThemeClass:"isLightTheme",colorMap:[{name:"50",map:[52,0,0]},{name:"100",map:[37,0,0]},{name:"200",map:[26,0,0]},{name:"300",map:[12,0,0]},{name:"400",map:[6,0,0]},{name:"500",map:[0,0,0]},{name:"600",map:[0,6,0]},{name:"700",map:[0,12,0]},{name:"800",map:[0,18,0]},{name:"900",map:[0,24,0]},{name:"A100",map:[50,0,30]},{name:"A200",map:[30,0,30]},{name:"A400",map:[10,0,15]},{name:"A700",map:[5,0,5]}],sortedHues:["50","100","200","300","400","500","600","700","800","900"]},Ct=new at("Mat Css Config"),Q=(()=>{let t=class t{constructor(n,a,o){this.document=a,this.primary="#03a9f4",this.accent="#e91e63",this.warn="#f44336",this.contrastColorThresholdPrimary="400",this.contrastColorThresholdAccent="400",this.contrastColorThresholdWarn="400",this.isAutoContrast=!1,this._black=new f("#000000"),this._white=new f("#ffffff"),this.renderer=n.createRenderer(null,null),this.ROOT=this.document.documentElement,this.cfg=k(k({},_t),o),this.isAutoContrast=this.cfg.isAutoContrast,typeof this.cfg.isDarkTheme=="boolean"&&this.setDarkTheme(this.cfg.isDarkTheme),this.cfg.primary&&this.setPrimaryColor(this.cfg.primary),this.cfg.accent&&this.setAccentColor(this.cfg.accent),this.cfg.warn&&this.setWarnColor(this.cfg.warn)}setPrimaryColor(n){this.primary=n;let a=y.Primary,o=this._computePaletteColors(a,this.primary);this._setStyle(o),this.isAutoContrast&&this._recalculateAndSetContrastColor(a)}setAccentColor(n){this.accent=n;let a=y.Accent,o=this._computePaletteColors(a,this.accent);this._setStyle(o),this.isAutoContrast&&this._recalculateAndSetContrastColor(a)}setWarnColor(n){this.warn=n;let a=y.Warn,o=this._computePaletteColors(a,this.warn);this._setStyle(o),this.isAutoContrast&&this._recalculateAndSetContrastColor(a)}setVariable(n,a){this._setStyle([{name:n,val:a}])}setDarkTheme(n){n?(this.document.body.classList.remove(this.cfg.lightThemeClass),this.document.body.classList.add(this.cfg.darkThemeClass)):(this.document.body.classList.remove(this.cfg.darkThemeClass),this.document.body.classList.add(this.cfg.lightThemeClass)),this.isDarkTheme=n}setAutoContrastEnabled(n){this.isAutoContrast=n,n?(this._recalculateAndSetContrastColor(y.Primary),this._recalculateAndSetContrastColor(y.Accent),this._recalculateAndSetContrastColor(y.Warn)):(this.setContrastColorThresholdPrimary(this.contrastColorThresholdPrimary),this.setContrastColorThresholdAccent(this.contrastColorThresholdAccent),this.setContrastColorThresholdWarn(this.contrastColorThresholdWarn))}setContrastColorThresholdPrimary(n){this.contrastColorThresholdPrimary=n,this.setContrastColorThreshold(n,y.Primary)}setContrastColorThresholdAccent(n){this.contrastColorThresholdAccent=n,this.setContrastColorThreshold(n,y.Accent)}setContrastColorThresholdWarn(n){this.contrastColorThresholdWarn=n,this.setContrastColorThreshold(n,y.Warn)}setContrastColorThreshold(n,a){if(this.isAutoContrast)return;let o=t.DARK_TEXT_VAR,i=this.cfg.sortedHues.map(s=>(s===n&&(o=t.LIGHT_TEXT_VAR),{val:`var(${o})`,name:`${a+t.CONTRAST_PREFIX}${s}`}));this._setStyle(i)}setAlternativeColorAlgorithm(n){this.cfg.isAlternativeColorAlgorithm=n,this.setPrimaryColor(this.primary),this.setAccentColor(this.accent),this.setWarnColor(this.warn)}getPaletteForColor(n){return this.cfg.isAlternativeColorAlgorithm?this.getTraditionalPaletteForColor(n):this.getConstantinPaletteForColor(n)}getPaletteWithContrastForColor(n){let a=this._getCssVarValue(t.LIGHT_TEXT_VAR),o=this._getCssVarValue(t.DARK_TEXT_VAR);return this.getPaletteForColor(n).map(s=>{let h=s.isLight?a:o,A=this._replaceNoRgbValue("",h).split(",").map(D=>+D),H={r:A[0],g:A[1],b:A[2],a:1};return I(k({},s),{contrast:I(k({},H),{str:`${H.r},${H.g},${H.b}`})})})}getTraditionalPaletteForColor(n){return this.cfg.colorMap.map(a=>{let o=new f(n).lighten(a.map[0]).darken(a.map[1]).saturate(a.map[2]),i=new f(o);return{hue:a.name,isLight:i.isLight(),color:I(k({},i.toRgb()),{str:`rgb(${i.toRgb().r},${i.toRgb().g},${i.toRgb().b})`})}})}getConstantinPaletteForColor(n){return this.cfg.colorMap.map(a=>{let o=this.computePalletTriad(n,a.name);return{hue:a.name,isLight:o.isLight,color:I(k({},o.rgb),{str:`rgb(${o.rgb.r},${o.rgb.g},${o.rgb.b})`})}})}_computePaletteColors(n,a){return this.getPaletteForColor(a).map(o=>{let i=o.color;return{name:`${n}${o.hue}`,val:`rgb(${i.r}, ${i.g}, ${i.b})`}})}_recalculateAndSetContrastColor(n){let a=this._calculateContrastColorsForCurrentValues(n).map(({contrastColorVar:o,hue:i})=>({val:`var(${o})`,name:`${n+t.CONTRAST_PREFIX}${i}`}));this._setStyle(a)}_calculateContrastColorsForCurrentValues(n){return this.cfg.sortedHues.map(a=>{let o=this._getCssVarValue(`${n}${a}`),i=new f(`rgb(${o})`);return{contrastColorVar:this._getContrastColorVar(i),hue:a}})}_setStyle(n){n.forEach(a=>{this.renderer.setStyle(this.ROOT,a.name,a.val,_.DashCase),this.renderer.setStyle(this.ROOT,a.name+"-no-rgb",this._replaceNoRgbValue(a.name,a.val),_.DashCase)})}_replaceNoRgbValue(n,a){let o=n.includes(t.CONTRAST_PREFIX),i="";return o?i=a.replace(")","-no-rgb)"):(i=a.replace("rgba(","").replace("rgb(","").replace(")",""),i.startsWith("var(")&&(i=i.concat(")"))),i}_getCssVarValue(n){return getComputedStyle(this.ROOT).getPropertyValue(n)}computePalletTriad(n,a){let o=new f("#ffffff"),i=this.multiply(new f(n).toRgb(),new f(n).toRgb()),s=new f(n).tetrad(),h;switch(a){case"50":h=this.getColorObject(o.mix(n,12));break;case"100":h=this.getColorObject(o.mix(n,30));break;case"200":h=this.getColorObject(o.mix(n,50));break;case"300":h=this.getColorObject(o.mix(n,70));break;case"400":h=this.getColorObject(o.mix(n,85));break;case"500":h=this.getColorObject(o.mix(n,100));break;case"600":h=this.getColorObject(i.mix(n,87));break;case"700":h=this.getColorObject(i.mix(n,70));break;case"800":h=this.getColorObject(i.mix(n,54));break;case"900":h=this.getColorObject(i.mix(n,25));break;case"A100":h=this.getColorObject(i.mix(s[4],15).saturate(80).lighten(65));break;case"A200":h=this.getColorObject(i.mix(s[4],15).saturate(80).lighten(55));break;case"A400":h=this.getColorObject(i.mix(s[4],15).saturate(100).lighten(45));break;case"A700":h=this.getColorObject(i.mix(s[4],15).saturate(100).lighten(40));break}return h}multiply(n,a){return n.b=Math.floor(n.b*a.b/255),n.g=Math.floor(n.g*a.g/255),n.r=Math.floor(n.r*a.r/255),new f("rgb\xA0"+n.r+"\xA0"+n.g+"\xA0"+n.b)}getColorObject(n){let a=new f(n);return{rgb:a.toRgb(),isLight:a.isLight()}}_getContrastColorVar(n){let a=this._getContrast(n,this._black);return this._getContrast(n,this._white)>a?t.LIGHT_TEXT_VAR:t.DARK_TEXT_VAR}_getContrast(n,a){let o=n.getLuminance(),i=a.getLuminance(),s=Math.max(o,i),h=Math.min(o,i);return(s+.05)/(h+.05)}};t.CONTRAST_PREFIX="contrast-",t.DARK_TEXT_VAR="--dark-text-contrast",t.LIGHT_TEXT_VAR="--light-text-contrast",t.\u0275fac=function(a){return new(a||t)(w(ht),w(ct),w(Ct))},t.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function we(e){return st([{provide:Ct,useValue:e},{provide:it,useValue:()=>ot(Q),multi:!0}])}var Gt={grad:.9,turn:360,rad:360/(2*Math.PI)},x=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},u=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},g=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},Pt=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},xt=function(e){return{r:g(e.r,0,255),g:g(e.g,0,255),b:g(e.b,0,255),a:g(e.a)}},Z=function(e){return{r:u(e.r),g:u(e.g),b:u(e.b),a:u(e.a,3)}},Ut=/^#([0-9a-f]{3,8})$/i,W=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Ht=function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=Math.max(t,r,n),i=o-Math.min(t,r,n),s=i?o===t?(r-n)/i:o===r?2+(n-t)/i:4+(t-r)/i:0;return{h:60*(s<0?s+6:s),s:o?i/o*100:0,v:o/255*100,a}},It=function(e){var t=e.h,r=e.s,n=e.v,a=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),i=n*(1-r),s=n*(1-(t-o)*r),h=n*(1-(1-t+o)*r),A=o%6;return{r:255*[n,s,i,i,h,n][A],g:255*[h,n,n,s,i,i][A],b:255*[i,i,h,n,n,s][A],a}},vt=function(e){return{h:Pt(e.h),s:g(e.s,0,100),l:g(e.l,0,100),a:g(e.a)}},Tt=function(e){return{h:u(e.h),s:u(e.s),l:u(e.l),a:u(e.a,3)}},wt=function(e){return It((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},j=function(e){return{h:(t=Ht(e)).h,s:(a=(200-(r=t.s))*(n=t.v)/100)>0&&a<200?r*n/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,r,n,a},Bt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tt={string:[[function(e){var t=Ut.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?u(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?u(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=qt.exec(e)||Jt.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:xt({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Bt.exec(e)||Xt.exec(e);if(!t)return null;var r,n,a=vt({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(Gt[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return wt(a)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=a===void 0?1:a;return x(t)&&x(r)&&x(n)?xt({r:Number(t),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,a=e.a,o=a===void 0?1:a;if(!x(t)||!x(r)||!x(n))return null;var i=vt({h:Number(t),s:Number(r),l:Number(n),a:Number(o)});return wt(i)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,a=e.a,o=a===void 0?1:a;if(!x(t)||!x(r)||!x(n))return null;var i=function(s){return{h:Pt(s.h),s:g(s.s,0,100),v:g(s.v,0,100),a:g(s.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(o)});return It(i)},"hsv"]]},St=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},Yt=function(e){return typeof e=="string"?St(e.trim(),tt.string):typeof e=="object"&&e!==null?St(e,tt.object):[null,void 0]};var z=function(e,t){var r=j(e);return{h:r.h,s:g(r.s+100*t,0,100),l:r.l,a:r.a}},V=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Rt=function(e,t){var r=j(e);return{h:r.h,s:r.s,l:g(r.l+100*t,0,100),a:r.a}},et=function(){function e(t){this.parsed=Yt(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return u(V(this.rgba),2)},e.prototype.isDark=function(){return V(this.rgba)<.5},e.prototype.isLight=function(){return V(this.rgba)>=.5},e.prototype.toHex=function(){return t=Z(this.rgba),r=t.r,n=t.g,a=t.b,i=(o=t.a)<1?W(u(255*o)):"","#"+W(r)+W(n)+W(a)+i;var t,r,n,a,o,i},e.prototype.toRgb=function(){return Z(this.rgba)},e.prototype.toRgbString=function(){return t=Z(this.rgba),r=t.r,n=t.g,a=t.b,(o=t.a)<1?"rgba("+r+", "+n+", "+a+", "+o+")":"rgb("+r+", "+n+", "+a+")";var t,r,n,a,o},e.prototype.toHsl=function(){return Tt(j(this.rgba))},e.prototype.toHslString=function(){return t=Tt(j(this.rgba)),r=t.h,n=t.s,a=t.l,(o=t.a)<1?"hsla("+r+", "+n+"%, "+a+"%, "+o+")":"hsl("+r+", "+n+"%, "+a+"%)";var t,r,n,a,o},e.prototype.toHsv=function(){return t=Ht(this.rgba),{h:u(t.h),s:u(t.s),v:u(t.v),a:u(t.a,3)};var t},e.prototype.invert=function(){return m({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),m(z(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),m(z(this.rgba,-t))},e.prototype.grayscale=function(){return m(z(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),m(Rt(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),m(Rt(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?m({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):u(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=j(this.rgba);return typeof t=="number"?m({h:t,s:r.s,l:r.l,a:r.a}):u(r.h)},e.prototype.isEqual=function(t){return this.toHex()===m(t).toHex()},e}(),m=function(e){return e instanceof et?e:new et(e)},kt=[],Ft=function(e){e.forEach(function(t){kt.indexOf(t)<0&&(t(et,tt),kt.push(t))})};function $t(e){var t={analogous:[-30,0,30],complementary:[0,180],"double-split-complementary":[-30,0,30,150,210],rectangle:[0,60,180,240],tetradic:[0,90,180,270],triadic:[0,120,240],"split-complementary":[0,150,210]};e.prototype.harmonies=function(r){var n=this;return r===void 0&&(r="complementary"),t[r].map(function(a){return n.rotate(a)})}}Ft([$t]);var Fe=(()=>{let t=class t{constructor(n,a,o){this.cache=n,this.app=a,this.css=o,this.THEME_COLOR_CACHE_KEY="THEME-COLOR",this.setColor=new d(1),this.SetColor=i=>{this.setColor.next(i)},this.initConfig=new d(1),this.Theme=this.initConfig.pipe(P(this.setColor),v(([i,s])=>m(s??i.Color??"0F0")),nt(i=>{this.css.setDarkTheme(i.isLight()),this.css.setPrimaryColor(i.toRgbString()),this.css.setAccentColor(i.harmonies("complementary")[1].toRgbString())})),this.LoadInitConfig=i=>this.initConfig.next(i),this.setColor.next(this.cache.Get(this.THEME_COLOR_CACHE_KEY)?.Data??null),this.Theme.subscribe()}};t.\u0275fac=function(a){return new(a||t)(w(ft),w(gt),w(Q))},t.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();export{M as a,m as b,ft as c,gt as d,we as e,Fe as f};
